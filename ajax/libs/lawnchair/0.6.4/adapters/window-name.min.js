Lawnchair.adapter("window-name",function(){"undefined"==typeof window&&(window={top:{}});var t={};try{t=JSON.parse(window.top.name)}catch(t){}return{valid:function(){return"undefined"!=typeof window.top.name},init:function(i,e){return t[this.name]=t[this.name]||{index:[],store:{}},this.index=t[this.name].index,this.store=t[this.name].store,this.fn(this.name,e).call(this,this),this},keys:function(t){return this.fn("keys",t).call(this,this.index),this},save:function(i,e){var s=i.key||this.uuid();return this.exists(s,function(n){n||(i.key&&delete i.key,this.index.push(s)),this.store[s]=i;try{window.top.name=JSON.stringify(t)}catch(t){throw n||(this.index.pop(),delete this.store[s]),t}e&&(i.key=s,this.lambda(e).call(this,i))}),this},batch:function(t,i){for(var e=[],s=0,n=t.length;s<n;s++)this.save(t[s],function(t){e.push(t)});return i&&this.lambda(i).call(this,e),this},get:function(t,i){var e;if(this.isArray(t)){e=[];for(var s=0,n=t.length;s<n;s++)e.push(this.store[t[s]])}else e=this.store[t],e&&(e.key=t);return i&&this.lambda(i).call(this,e),this},exists:function(t,i){return this.lambda(i).call(this,!!this.store[t]),this},all:function(t){for(var i=[],e=0,s=this.index.length;e<s;e++){var n=this.store[this.index[e]];n.key=this.index[e],i.push(n)}return this.fn(this.name,t).call(this,i),this},remove:function(i,e){for(var s=this.isArray(i)?i:[i],n=0,h=s.length;n<h;n++){var r=s[n].key?s[n].key:s[n],a=this.indexOf(this.index,r);a<0||(delete this.store[r],this.index.splice(a,1))}return window.top.name=JSON.stringify(t),e&&this.lambda(e).call(this),this},nuke:function(i){return this.store=t[this.name].store={},this.index=t[this.name].index=[],window.top.name=JSON.stringify(t),i&&this.lambda(i).call(this),this}}}());
//# sourceMappingURL=window-name.min.js.map